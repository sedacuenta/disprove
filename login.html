<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disprove - Log In</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/15189/15189214.png">
</head>

<body>
    
<header>
    <h1><a href="/" class="a_title">Dis-prove</a></h1>
    <p>Porque la tecnología es para todos</p>

    <div class="credentials" id="credentials-box">
        <button onclick="window.location.href='/login.html'">Login</button>
        <button onclick="window.location.href='/register.html'">Register</button>
    </div>

    <button id="logout-btn" style="display:none;">Cerrar sesión</button>
</header>

<div class="login">
    <h2>Iniciar sesión</h2>
    <input id="email-login" type="email" placeholder="Email">
    <input id="contrasenya-login" type="password" placeholder="Contraseña">
    <button id="btn-login">Iniciar Sesión</button>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

const firebaseConfig = {
    apiKey: "AIzaSyC5urY-iP2m4Eqi9c3WcvjrfHMDnxwD7ic",
    authDomain: "disprove-afcb8.firebaseapp.com",
    projectId: "disprove-afcb8",
    storageBucket: "disprove-afcb8.firebasestorage.app",
    messagingSenderId: "721347672126",
    appId: "1:721347672126:web:d37be05d262bceb27ef96f"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

document.getElementById("btn-login").onclick = async () => {
    const email = document.getElementById("email-login").value.trim();
    const pass  = document.getElementById("contrasenya-login").value.trim();

    try {
        await signInWithEmailAndPassword(auth, email, pass);
        alert("✔ Sesión iniciada");
        location.href = "index.html";
    } catch(e) { alert("❌ " + e.message); }
};
</script>

</body>
</html>
